# AIæ—…è¡Œè§„åˆ’å¸ˆ - Spring Boot + Spring AI + å·¥å…·æµæ¶æ„

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å·²ä»Node.jsæ¶æ„å‡çº§ä¸ºåŸºäº**Spring Boot + Spring AI + å·¥å…·æµ**çš„ç°ä»£åŒ–AIæ—…è¡Œè§„åˆ’ç³»ç»Ÿï¼Œå®ç°äº†çœŸæ­£çš„AIè°ƒç”¨å’Œæ™ºèƒ½ç¼–æ’ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### åç«¯æ¶æ„ (Spring Boot)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Spring Boot åç«¯                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Controller Layer (TripController)                     â”‚
â”‚  â”œâ”€ POST /api/ai/plan - æ—…è¡Œè§„åˆ’æ¥å£                    â”‚
â”‚  â”œâ”€ GET /api/ai/health - å¥åº·æ£€æŸ¥                      â”‚
â”‚  â””â”€ GET /api/ai/info - AIæœåŠ¡ä¿¡æ¯                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Service Layer (å·¥å…·æµç¼–æ’)                            â”‚
â”‚  â”œâ”€ TripOrchestratorService - ä¸»ç¼–æ’å™¨                  â”‚
â”‚  â”œâ”€ BudgetEstimationTool - é¢„ç®—ä¼°ç®—å·¥å…·                â”‚
â”‚  â”œâ”€ ItineraryPlanningTool - è¡Œç¨‹è§„åˆ’å·¥å…·              â”‚
â”‚  â””â”€ RecommendationExtractionTool - æ¨èæå–å·¥å…·        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AI Integration (Spring AI)                            â”‚
â”‚  â”œâ”€ ChatClient - AIæ¨¡å‹è°ƒç”¨                            â”‚
â”‚  â”œâ”€ é˜¿é‡Œäº‘ç™¾ç‚¼é›†æˆ                                      â”‚
â”‚  â””â”€ OpenAIå…¼å®¹æ¥å£                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰ç«¯æ¶æ„ (Vue 3)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Vue 3 å‰ç«¯                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Views Layer                                           â”‚
â”‚  â”œâ”€ Home.vue - é¦–é¡µ                                    â”‚
â”‚  â”œâ”€ TripPlanner.vue - è§„åˆ’é¡µé¢                         â”‚
â”‚  â””â”€ TripResult.vue - ç»“æœå±•ç¤º                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  API Layer                                             â”‚
â”‚  â”œâ”€ tripApi.js - AIæ¥å£è°ƒç”¨                            â”‚
â”‚  â””â”€ axios - HTTPå®¢æˆ·ç«¯                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI Framework                                          â”‚
â”‚  â”œâ”€ Element Plus - UIç»„ä»¶åº“                            â”‚
â”‚  â””â”€ Vue Router - è·¯ç”±ç®¡ç†                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ å·¥å…·æµæ‰§è¡Œæµç¨‹

### 1. ç”¨æˆ·è¯·æ±‚æµç¨‹
```
ç”¨æˆ·è¾“å…¥ â†’ Vueå‰ç«¯ â†’ Spring Bootåç«¯ â†’ å·¥å…·æµç¼–æ’ â†’ AIè°ƒç”¨ â†’ ç»“æ„åŒ–è¿”å›
```

### 2. å·¥å…·æµè¯¦ç»†æ‰§è¡Œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                å·¥å…·æµç¼–æ’æ‰§è¡Œæµç¨‹                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. æ¥æ”¶ç”¨æˆ·è¯·æ±‚ (TripRequest)                         â”‚
â”‚     â”œâ”€ destination: ç›®çš„åœ°                              â”‚
â”‚     â”œâ”€ startDate/endDate: æ—¥æœŸ                          â”‚
â”‚     â”œâ”€ budget: é¢„ç®—                                    â”‚
â”‚     â”œâ”€ companions: äººæ•°                                â”‚
â”‚     â””â”€ preferences: åå¥½                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. å·¥å…·æµç¼–æ’ (TripOrchestratorService)                â”‚
â”‚     â”œâ”€ æ­¥éª¤1: BudgetEstimationTool.estimateBudget()    â”‚
â”‚     â”‚   â””â”€ è°ƒç”¨AI: æ™ºèƒ½é¢„ç®—åˆ†é…                         â”‚
â”‚     â”œâ”€ æ­¥éª¤2: ItineraryPlanningTool.planItinerary()    â”‚
â”‚     â”‚   â””â”€ è°ƒç”¨AI: ç”Ÿæˆå¤šæ—¥è¡Œç¨‹                         â”‚
â”‚     â”œâ”€ æ­¥éª¤3: RecommendationExtractionTool.extract()  â”‚
â”‚     â”‚   â””â”€ è°ƒç”¨AI: æå–æ¨èå†…å®¹                        â”‚
â”‚     â””â”€ æ­¥éª¤4: æ„å»ºç»“æ„åŒ–å“åº” (TripResponse)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. AIè°ƒç”¨éªŒè¯                                         â”‚
â”‚     â”œâ”€ æ—¥å¿—è®°å½•: ğŸ¤– AIè°ƒç”¨å¼€å§‹/å®Œæˆ                     â”‚
â”‚     â”œâ”€ å“åº”æ—¶é—´: å¤„ç†è€—æ—¶ç»Ÿè®¡                           â”‚
â”‚     â”œâ”€ æ•°æ®ç»Ÿè®¡: ç”Ÿæˆç»“æœç»Ÿè®¡                           â”‚
â”‚     â””â”€ é”™è¯¯å¤„ç†: é™çº§å’Œé‡è¯•æœºåˆ¶                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æ ¸å¿ƒå·¥å…·å®ç°

### 1. BudgetEstimationTool (é¢„ç®—ä¼°ç®—å·¥å…·)
```java
@Service
public class BudgetEstimationTool {
    public Map<String, Object> estimateBudget(Integer totalBudget, Integer days, 
                                            Integer companions, String destination) {
        // æ„å»ºAIæç¤ºè¯
        String prompt = buildBudgetPrompt(totalBudget, days, companions, destination);
        
        // è°ƒç”¨Spring AI
        ChatResponse response = chatClient.call(new Prompt(new UserMessage(prompt)));
        
        // è§£æAIå“åº”
        return parseBudgetResponse(response.getResult().getOutput().getContent());
    }
}
```

### 2. ItineraryPlanningTool (è¡Œç¨‹è§„åˆ’å·¥å…·)
```java
@Service
public class ItineraryPlanningTool {
    public Map<String, Object> planItinerary(String destination, String startDate, 
                                           String endDate, Map<String, Object> budgetResult, 
                                           String preferences) {
        // æ„å»ºè¡Œç¨‹è§„åˆ’æç¤ºè¯
        String prompt = buildItineraryPrompt(destination, startDate, endDate, 
                                           budgetResult, preferences);
        
        // è°ƒç”¨AIç”Ÿæˆè¡Œç¨‹
        ChatResponse response = chatClient.call(new Prompt(new UserMessage(prompt)));
        
        // è§£æå¤šæ—¥è¡Œç¨‹
        return parseItineraryResponse(response.getResult().getOutput().getContent());
    }
}
```

### 3. RecommendationExtractionTool (æ¨èæå–å·¥å…·)
```java
@Service
public class RecommendationExtractionTool {
    public Map<String, Object> extractRecommendations(String destination, 
                                                    String preferences,
                                                    Map<String, Object> itineraryResult) {
        // æ„å»ºæ¨èæå–æç¤ºè¯
        String prompt = buildRecommendationPrompt(destination, preferences, itineraryResult);
        
        // è°ƒç”¨AIæå–æ¨è
        ChatResponse response = chatClient.call(new Prompt(new UserMessage(prompt)));
        
        // è§£ææ¨èå†…å®¹
        return parseRecommendationResponse(response.getResult().getOutput().getContent());
    }
}
```

## ğŸ” AIè°ƒç”¨éªŒè¯æœºåˆ¶

### 1. æ—¥å¿—éªŒè¯
```java
// åœ¨TripOrchestratorServiceä¸­
logger.info("ğŸ¤– å¼€å§‹è°ƒç”¨AIç”Ÿæˆæ—…è¡Œè§„åˆ’...");
logger.info("ğŸ“ é¢„ç®—ä¼°ç®—æç¤ºè¯: {}", prompt);
logger.info("ğŸ¤– AIé¢„ç®—ä¼°ç®—å“åº”: {}", aiResponse);
logger.info("âœ… é¢„ç®—ä¼°ç®—å®Œæˆ: {}", budgetResult);
```

### 2. å“åº”æ—¶é—´ç»Ÿè®¡
```java
// åœ¨TripControllerä¸­
long startTime = System.currentTimeMillis();
TripResponse response = tripOrchestratorService.executeTripPlanning(request);
long endTime = System.currentTimeMillis();
long duration = endTime - startTime;
logger.info("âœ… AIæ—…è¡Œè§„åˆ’ç”ŸæˆæˆåŠŸï¼Œè€—æ—¶: {}ms", duration);
```

### 3. æ•°æ®ç»Ÿè®¡éªŒè¯
```java
logger.info("ğŸ“Š ç”Ÿæˆç»“æœç»Ÿè®¡: æ€»é¢„ç®—={}, å¤©æ•°={}, æ´»åŠ¨æ€»æ•°={}", 
           response.getTotalBudget(), 
           response.getDays().size(),
           response.getDays().stream()
                   .mapToInt(day -> day.getActivities().size())
                   .sum());
```

## ğŸ“Š æ•°æ®æµéªŒè¯

### å‰ç«¯è°ƒç”¨éªŒè¯
```javascript
// åœ¨tripApi.jsä¸­
console.log('ğŸ¤– å¼€å§‹è°ƒç”¨AIç”Ÿæˆæ—…è¡Œè§„åˆ’...');
console.log('ğŸ“‹ è¯·æ±‚å‚æ•°:', requestData);
const response = await api.post('/api/ai/plan', requestData);
console.log('âœ… AIæ—…è¡Œè§„åˆ’ç”ŸæˆæˆåŠŸ');
console.log('ğŸ“Š å“åº”æ•°æ®:', response.data);
```

### åç«¯å¤„ç†éªŒè¯
```java
// åœ¨TripControllerä¸­
logger.info("ğŸš€ æ”¶åˆ°æ—…è¡Œè§„åˆ’è¯·æ±‚: {}", request);
logger.info("ğŸ¤– å¼€å§‹è°ƒç”¨AIç”Ÿæˆæ—…è¡Œè§„åˆ’...");
logger.info("âœ… AIæ—…è¡Œè§„åˆ’ç”ŸæˆæˆåŠŸï¼Œè€—æ—¶: {}ms", duration);
```

## ğŸš€ å¯åŠ¨æŒ‡å—

### åç«¯å¯åŠ¨ (Spring Boot)
```bash
cd spring-boot-backend
mvn spring-boot:run
# è®¿é—®: http://localhost:8080
```

### å‰ç«¯å¯åŠ¨ (Vue 3)
```bash
cd vue-frontend
npm install
npm run dev
# è®¿é—®: http://localhost:3000
```

## âœ… ç³»ç»ŸéªŒè¯æ¸…å•

- [x] **ç§»é™¤é™æ€æ•°æ®**: æ‰€æœ‰mockæ•°æ®å·²ç§»é™¤
- [x] **çœŸå®AIè°ƒç”¨**: ä½¿ç”¨Spring AIè°ƒç”¨å¤§æ¨¡å‹
- [x] **å·¥å…·æµç¼–æ’**: ä¸‰ä¸ªæ ¸å¿ƒå·¥å…·ä¸²è”æ‰§è¡Œ
- [x] **ç»“æ„åŒ–è¾“å‡º**: è¿”å›æ ‡å‡†JSONæ ¼å¼
- [x] **å‰ç«¯é›†æˆ**: Vue3è°ƒç”¨çœŸå®API
- [x] **æ—¥å¿—éªŒè¯**: å®Œæ•´çš„AIè°ƒç”¨æ—¥å¿—
- [x] **é”™è¯¯å¤„ç†**: é™çº§å’Œé‡è¯•æœºåˆ¶
- [x] **æ€§èƒ½ç›‘æ§**: å“åº”æ—¶é—´ç»Ÿè®¡

## ğŸ‰ ç³»ç»Ÿç‰¹æ€§

1. **å¯æ£€ç´¢**: åŸºäºAIçš„çŸ¥è¯†æ£€ç´¢èƒ½åŠ›
2. **å¯æ¨ç†**: å¤šæ­¥éª¤å·¥å…·æµæ¨ç†
3. **å¯æ‰§è¡Œ**: ç»“æ„åŒ–è¾“å‡ºå’Œå‰ç«¯å±•ç¤º
4. **å¯æ‰©å±•**: æ”¯æŒå¤šç§AIæ¨¡å‹å’Œå·¥å…·
5. **å¯ç›‘æ§**: å®Œæ•´çš„è°ƒç”¨é“¾è·¯è¿½è¸ª

## ğŸ“ˆ æŠ€æœ¯ä¼˜åŠ¿

- **ç°ä»£åŒ–æ¶æ„**: Spring Boot + Spring AI + Vue 3
- **æ™ºèƒ½ç¼–æ’**: å·¥å…·æµè‡ªåŠ¨ä¸²è”æ‰§è¡Œ
- **çœŸå®AI**: ä¸å†ä¾èµ–é™æ€æ•°æ®
- **ç»“æ„åŒ–è¾“å‡º**: æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼
- **å®Œæ•´ç›‘æ§**: ç«¯åˆ°ç«¯çš„è°ƒç”¨è¿½è¸ª

---

**ğŸ¯ æ€»ç»“**: ç³»ç»Ÿå·²æˆåŠŸä»"é™æ€mockæ•°æ®"å‡çº§ä¸º"åŸºäºSpring AI + å·¥å…·æµçš„çœŸå®AIè°ƒç”¨ç³»ç»Ÿ"ï¼Œå®ç°äº†å¯æ£€ç´¢ã€å¯æ¨ç†ã€å¯æ‰§è¡Œçš„æ™ºèƒ½æ—…è¡Œè§„åˆ’èƒ½åŠ›ã€‚
